{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["// Pobranie elementów z DOM\r\nconst startGameBtn = document.querySelector(\".start-game-btn\");\r\nconst container = document.querySelector(\".container\");\r\nconst square = document.querySelector(\".square\");\r\nconst points = document.querySelector(\".points\");\r\nconst time = document.querySelector(\".time\");\r\nconst endGameScreen = document.querySelector(\".end-game-screen\");\r\nconst totalScore = document.querySelector(\".total-score\");\r\nconst restartGameBtn = document.querySelector(\".restart-game-btn\");\r\nconst timeInputs = document.querySelectorAll(\".time-mode-inputs input\");\r\n\r\n// Utworzenie obiektów audio (muzyka tła, dźwięk kliknięcia i koniec gry)\r\nconst backgroundMusic = new Audio(\"./audio/HeadEmpty.mp3\");\r\nconst clickSound = new Audio(\"./audio/Click.wav\");\r\nconst endGameSound = new Audio(\"./audio/EndGame.wav\");\r\n\r\n// Zmienne sterujące stanem gry\r\nlet pointsNumber = 0; // aktualna liczba punktów gracza\r\nlet canClickFlag = true; // blokada wielokrotnego kliknięcia w jednym cyklu\r\nlet allTime = 30; // czas gry w sekundach\r\nlet canClick = false;\r\nlet checkedElem; // zaznaczony input\r\nconst GAME_WIDTH = 600;\r\nconst GAME_HEIGHT = 400;\r\nconst SQUARE_MOVE_INTERVAL = 800;\r\n\r\nconst stopAudio = (audioName) => {\r\n    audioName.pause();\r\n    audioName.currentTime = 0;\r\n};\r\n\r\n// Obsługa kliknięcia przycisku startu gry\r\nstartGameBtn.addEventListener(\"click\", () => {\r\n    timeInputs.forEach((element) => {\r\n        // element.addEventListener(\"click\", () => {\r\n        element.checked ? (checkedElem = element.id) : [];\r\n        console.log(checkedElem);\r\n        // });\r\n    });\r\n    // Ustawienie początkowych wartości na ekranie\r\n    points.innerText = pointsNumber;\r\n    time.innerText = allTime;\r\n\r\n    // Konfiguracja i uruchomienie muzyki tła\r\n    backgroundMusic.volume = 0.2;\r\n    backgroundMusic.play();\r\n\r\n    // Przełączenie widoku na ekran gry\r\n    container.classList.add(\"in-game\");\r\n\r\n    // Interwał odpowiedzialny za losowe przemieszczanie kwadratu\r\n    const randomPosition = setInterval(() => {\r\n        // Losowa pozycja pozioma (oś X)\r\n        let leftDistance =\r\n            Math.floor(Math.random() * (GAME_WIDTH - 0 + 1)) + 0 + \"px\";\r\n        square.style.left = leftDistance;\r\n\r\n        // Losowa pozycja pionowa (oś Y)\r\n        let topDistance =\r\n            Math.floor(Math.random() * (GAME_HEIGHT - 0 + 1)) + 0 + \"px\";\r\n        square.style.top = topDistance;\r\n\r\n        // Odblokowanie możliwości zdobycia punktu w nowej pozycji\r\n        canClickFlag = 0;\r\n    }, SQUARE_MOVE_INTERVAL);\r\n\r\n    let timeNumber = allTime; // pozostały czas gry\r\n\r\n    // Interwał odliczający czas gry\r\n    const timeInterval = setInterval(() => {\r\n        // Zmniejszenie czasu o 1 sekundę\r\n        timeNumber--;\r\n        time.innerText = timeNumber;\r\n\r\n        // Zakończenie gry po upływie czasu\r\n        if (timeNumber === 0) {\r\n            container.classList.remove(\"in-game\");\r\n            container.classList.add(\"end-game\");\r\n            clearInterval(timeInterval);\r\n            clearInterval(randomPosition);\r\n            stopAudio(backgroundMusic);\r\n            endGameSound.play();\r\n            totalScore.innerText =\r\n                \"Zdobyłeś \" +\r\n                pointsNumber +\r\n                \" punktów w \" +\r\n                allTime +\r\n                \" sekund\";\r\n            pointsNumber = 0;\r\n        }\r\n    }, 1000);\r\n});\r\n\r\n// Obsługa kliknięcia w kwadrat\r\nsquare.addEventListener(\"click\", () => {\r\n    stopAudio(clickSound);\r\n    // Obsługa wyłączania blokady wielokrotnego kliknięcia\r\n    if (canClick) {\r\n        // Punkt można zdobyć tylko raz zanim kwadrat zmieni pozycję\r\n        if (canClickFlag) {\r\n            // Odtworzenie efektu dźwiękowego\r\n            clickSound.play();\r\n\r\n            // Zwiększenie liczby punktów i aktualizacja widoku\r\n            pointsNumber++;\r\n            points.innerText = pointsNumber;\r\n\r\n            // Zablokowanie kolejnych kliknięć do czasu zmiany pozycji\r\n            canClickFlag = false;\r\n        }\r\n    } else {\r\n        // Odtworzenie efektu dźwiękowego\r\n        clickSound.play();\r\n\r\n        // Zwiększenie liczby punktów i aktualizacja widoku\r\n        pointsNumber++;\r\n        points.innerText = pointsNumber;\r\n    }\r\n});\r\n\r\nrestartGameBtn.addEventListener(\"click\", () => {\r\n    container.classList.remove(\"end-game\");\r\n});\r\n"],"file":"main.js"}
{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["// Pobranie elementów z DOM\nconst startGameBtn = document.querySelector('.start-game-btn');\nconst container = document.querySelector('.container');\nconst square = document.querySelector('.square');\nconst points = document.querySelector('.points');\nconst time = document.querySelector('.time');\nconst endGameScreen = document.querySelector('.end-game-screen');\nconst totalScore = document.querySelector('.total-score');\nconst restartGameBtn = document.querySelector('.restart-game-btn');\nconst timeInputs = document.querySelectorAll('.time-mode-inputs input');\nconst fasterModeInputs = document.querySelectorAll('.faster-mode-inputs input');\nconst endInfinityGameBtn = document.querySelector('.end-game-btn');\n\n// Utworzenie obiektów audio (muzyka tła, dźwięk kliknięcia i koniec gry)\nconst backgroundMusic = new Audio('./audio/HeadEmpty.mp3');\nconst clickSound = new Audio('./audio/Click.wav');\nconst endGameSound = new Audio('./audio/EndGame.wav');\n\n// Zmienne sterujące stanem gry\nlet pointsNumber = 0; // aktualna liczba punktów gracza\nlet allTime; // czas gry w sekundach\nlet faster; // przyśpieszenie gry\nlet checkedElem; // zaznaczony input\nconst GAME_WIDTH = 600;\nconst GAME_HEIGHT = 400;\nlet SQUARE_MOVE_INTERVAL = 800;\nlet timeInterval;\nlet randomPosition;\nendInfinityGameBtn.style.display = 'none';\n\nconst stopAudio = (audioName) => {\n    audioName.pause();\n    audioName.currentTime = 0;\n};\n\nconst endGame = () => {\n    endInfinityGameBtn.style.display = 'none';\n    container.classList.remove('in-game');\n    container.classList.add('end-game');\n    clearInterval(timeInterval);\n    clearInterval(randomPosition);\n    stopAudio(backgroundMusic);\n    endGameSound.play();\n    allTime === 'infinity'\n        ? (totalScore.innerText = 'Zdobyłeś ' + pointsNumber + ' punktów w ' + 'nieskończonym czasie')\n        : (totalScore.innerText = 'Zdobyłeś ' + pointsNumber + ' punktów w ' + allTime + ' sekund');\n    pointsNumber = 0;\n};\n\n// Obsługa kliknięcia przycisku startu gry\nstartGameBtn.addEventListener('click', () => {\n    timeInputs.forEach((element) => {\n        element.checked ? (allTime = element.id) : [];\n        console.log(allTime);\n    });\n    fasterModeInputs.forEach((element) => {\n        element.checked ? (faster = element.id) : [];\n        console.log(faster);\n    });\n    // Ustawienie początkowych wartości na ekranie\n    points.innerText = pointsNumber;\n    time.innerText = allTime;\n    backgroundMusic.loop = true;\n\n    // Konfiguracja i uruchomienie muzyki tła\n    backgroundMusic.volume = 0.2;\n    backgroundMusic.play();\n\n    // Przełączenie widoku na ekran gry\n    container.classList.add('in-game');\n\n    // Interwał odpowiedzialny za losowe przemieszczanie kwadratu\n    const setRandomPosition = () => {\n        randomPosition = setInterval(() => {\n            // Losowa pozycja pozioma (oś X)\n            let leftDistance = Math.floor(Math.random() * (GAME_WIDTH - 0 + 1)) + 0 + 'px';\n            square.style.left = leftDistance;\n\n            // Losowa pozycja pionowa (oś Y)\n            let topDistance = Math.floor(Math.random() * (GAME_HEIGHT - 0 + 1)) + 0 + 'px';\n            square.style.top = topDistance;\n\n            // Odblokowanie możliwości zdobycia punktu w nowej pozycji\n            canClickFlag = 0;\n        }, SQUARE_MOVE_INTERVAL);\n    };\n    setRandomPosition();\n    let timeNumber = allTime; // pozostały czas gry\n    if (allTime === 'infinity') {\n        time.innerText = 'Nieskończony czas';\n        endInfinityGameBtn.style.display = 'block';\n    } else {\n        // Interwał odliczający czas gry\n        timeInterval = setInterval(() => {\n            // Zmniejszenie czasu o 1 sekundę\n            timeNumber--;\n            time.innerText = timeNumber;\n\n            // Zakończenie gry po upływie czasu\n            if (timeNumber === 0) {\n                endGame();\n            }\n        }, 1000);\n    }\n\n    setTimeout(() => {\n        clearInterval(randomPosition);\n        setTimeout(() => {\n            SQUARE_MOVE_INTERVAL = 200;\n            setRandomPosition();\n        }, 2000);\n    }, 3000);\n});\n\n// Obsługa kliknięcia w kwadrat\nsquare.addEventListener('click', () => {\n    stopAudio(clickSound);\n    // Odtworzenie efektu dźwiękowego\n    clickSound.play();\n\n    // Zwiększenie liczby punktów i aktualizacja widoku\n    pointsNumber++;\n    points.innerText = pointsNumber;\n});\n\nrestartGameBtn.addEventListener('click', () => {\n    container.classList.remove('end-game');\n});\n\nendInfinityGameBtn.addEventListener('click', () => {\n    endGame();\n});\n"],"file":"main.js"}